# Commit Details: 254e4b90

**Repository:** [qf-polkavm-sdk](https://github.com/QuantumFusion-network/qf-polkavm-sdk)
**Author:** Sviatoslav Alekseev (zotho)
**Date:** 2025-06-04 18:53:56+00:00
**Branch(es):** zotho/issue-328-doc
**Commit Link:** [View on GitHub](https://github.com/QuantumFusion-network/qf-polkavm-sdk/commit/254e4b90aec3a895aa8c257152d594b43f0865e3)

## Commit Message
```
Add build_docs.sh script for building all examples
```

## Statistics
- **Files changed:** 5
- **Lines added:** 29
- **Lines deleted:** 5
- **Total changes:** 34

## File Changes

### ‚úèÔ∏è Makefile (modified)
**Changes:** +4 -2

```diff
@@ -1,8 +1,10 @@
-.PHONY: open-rustdoc rustdoc
+.PHONY: open-rustdoc rustdoc doc-all
 
-open-rustdoc: rustdoc
+open-rustdoc: doc-all
 	cargo doc --open
 
 rustdoc:
 	rustdoc src/lib.rs -o target/doc
 
+doc-all:
+	./build_docs.sh
```

### üÜï build_docs.sh (added)
**Changes:** +23 -0

```diff
@@ -0,0 +1,23 @@
+#!/usr/bin/env bash
+
+set -euo pipefail
+
+echo "Building documentation for main library..."
+cargo doc --no-deps
+
+echo "Building documentation for examples..."
+for example_dir in examples/*/; do
+    if [ -f "${example_dir}/Cargo.toml" ]; then
+        example_name=$(basename "$example_dir")
+        echo "Building docs for ${example_name}..."
+
+        pushd "$example_dir" > /dev/null
+
+        RUSTFLAGS="--remap-path-prefix=$(pwd)= --remap-path-prefix=${HOME}=~" \
+             cargo +nightly doc \
+                --no-deps -Z build-std=core,alloc \
+                --target $(polkatool get-target-json-path --bitness 32)
+
+        popd > /dev/null
+    fi
+done
```

### ‚úèÔ∏è build_polkavm.sh (modified)
**Changes:** +1 -1

```diff
@@ -25,7 +25,7 @@ RUSTFLAGS="--remap-path-prefix=$(pwd)= --remap-path-prefix=${HOME}=~" \
     cargo +nightly build \
         -Z build-std=core,alloc \
         --target $(polkatool get-target-json-path --bitness 32) \
-        -q --release --bin "${CRATE_NAME}" -p "${CRATE_NAME}"
+        --release
 popd > /dev/null
 
 polkatool link \
```

### ‚úèÔ∏è examples/get-block-number/Cargo.lock (modified)
**Changes:** +0 -1

```diff
@@ -55,7 +55,6 @@ dependencies = [
 [[package]]
 name = "qf-polkavm-sdk"
 version = "0.1.0"
-source = "git+https://github.com/QuantumFusion-network/qf-polkavm-sdk#8b3fe3af048600a0f7461f89492bd522364f69bc"
 
 [[package]]
 name = "quote"
```

### ‚úèÔ∏è examples/get-block-number/Cargo.toml (modified)
**Changes:** +1 -1

```diff
@@ -6,4 +6,4 @@ publish = false
 
 [dependencies]
 polkavm-derive = { git = "https://github.com/paritytech/polkavm.git", tag = "v0.21.0" }
-qf-polkavm-sdk = { git = "https://github.com/QuantumFusion-network/qf-polkavm-sdk", ref = "a0f7e7728da711ce9d5249a7801298c3638dde95" }
+qf-polkavm-sdk = { path = "../../" }
```
