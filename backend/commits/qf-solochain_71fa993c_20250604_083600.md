# Commit Details: 71fa993c

**Repository:** [qf-solochain](https://github.com/QuantumFusion-network/qf-solochain)
**Author:** Andrei Orlov (andor0)
**Date:** 2025-06-04 08:36:00+00:00
**Branch(es):** andor0/issue-371-2
**Commit Link:** [View on GitHub](https://github.com/QuantumFusion-network/qf-solochain/commit/71fa993c0720b6a2ca987a8c8f946c56f1145eeb)

## Commit Message
```
Remove dead code
```

## Statistics
- **Files changed:** 2
- **Lines added:** 0
- **Lines deleted:** 24
- **Total changes:** 24

## File Changes

### ✏️ pallets/qf-polkavm/src/lib.rs (modified)
**Changes:** +0 -18

```diff
@@ -421,24 +421,6 @@ pub mod pallet {
 				 -> Option<Vec<u8>> {
 					CodeStorage::<T>::get((contract_address, key)).map(|d| d.data.to_vec())
 				},
-				|contract_address: T::AccountId,
-				caller: T::AccountId,
-				 key: StorageKey<T>,
-				 max_storage_size: usize,
-				 mut data: Vec<u8>|
-				 -> u64 {
-					let mut buffer = BoundedVec::with_bounded_capacity(max_storage_size);
-					if let Ok(_) = buffer.try_append(&mut data) {
-						CodeStorage::<T>::insert((contract_address, key), StorageValue { data: buffer, owner: caller });
-						0
-					} else {
-						1
-					}
-				},
-				|contract_address: T::AccountId, key: StorageKey<T>| -> u64 {
-					CodeStorage::<T>::remove((contract_address, key));
-					0
-				},
 			);
 
 			sp_runtime::print("====== BEFORE CALL ======");
```

### ✏️ pallets/qf-polkavm/src/polkavm/linker.rs (modified)
**Changes:** +0 -6

```diff
@@ -610,8 +610,6 @@ pub struct State<T: PalletConfig> {
 	pub account_id: fn() -> u64,
 	pub caller: fn() -> u64,
 	pub get: fn(T::AccountId, StorageKey<T>) -> Option<Vec<u8>>,
-	pub insert: fn(T::AccountId, T::AccountId, StorageKey<T>, usize, Vec<u8>) -> u64,
-	pub delete: fn(T::AccountId, StorageKey<T>) -> u64,
 }
 
 impl<T: PalletConfig> State<T> {
@@ -633,8 +631,6 @@ impl<T: PalletConfig> State<T> {
 		account_id: fn() -> u64,
 		caller: fn() -> u64,
 		get: fn(T::AccountId, StorageKey<T>) -> Option<Vec<u8>>,
-		insert: fn(T::AccountId, T::AccountId, StorageKey<T>, usize, Vec<u8>) -> u64,
-		delete: fn(T::AccountId, StorageKey<T>) -> u64,
 	) -> Self {
 		Self {
 			addresses,
@@ -654,8 +650,6 @@ impl<T: PalletConfig> State<T> {
 			account_id,
 			caller,
 			get,
-			insert,
-			delete,
 		}
 	}
 }
```
